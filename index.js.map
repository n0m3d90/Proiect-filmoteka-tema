{"version":3,"file":"index.js","sources":["../src/js/getMovies.js","../src/js/testing-get-movies.js","../src/js/nightMode.js","../src/js/getLocalStorage.js","../src/js/queueWatchedManager.js","../src/js/fetchGenres.js","../src/js/openFilmModal.js","../src/js/filmCards.js","../src/js/footerModal.js","../src/js/scrollTopButton.js","../src/js/library.js","../src/js/optionsPagination.js","../src/js/searchForm.js","../src/js/footerPagination.js","../src/js/footerGetFullYear.js","../src/main.js"],"sourcesContent":["'use strict';\n\n// fetch trailers and movie functions //\nimport axios from 'axios';\nimport Notiflix from 'notiflix';\n\nexport const API_KEY = '493c6d740f024fcc02750f44c1518471';\nexport const BASE_URL = `https://api.themoviedb.org/3`;\n\nexport async function getTrailer(movieId) {\n  const trailerUrl = `${BASE_URL}/movie/${movieId}/videos?api_key=${API_KEY}&language=en-US`;\n  try {\n    const response = await axios.get(trailerUrl);\n    const trailers = response.data.results;\n\n    const youtubeTrailer = trailers.find(\n      trailer => trailer.site === 'YouTube' && trailer.type === 'Trailer'\n    );\n\n    return youtubeTrailer\n      ? `https://www.youtube.com/embed/${youtubeTrailer.key}?autoplay=1`\n      : null;\n  } catch (error) {\n    if (error.response && error.response.status === 404) {\n      return null;\n    } else {\n      console.error('A apărut o eroare la obținerea trailerului.');\n      return null;\n    }\n  }\n}\n\nexport async function getMovies(searchQuery = '', page = 1) {\n  let url = '';\n  if (searchQuery) {\n    url = `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&query=${encodeURIComponent(\n      searchQuery\n    )}&page=${page}`;\n  } else {\n    url = `${BASE_URL}/trending/all/day?language=en-US&api_key=${API_KEY}&page=${page}`;\n  }\n\n  try {\n    const response = await axios.get(url);\n    const moviesWithTrailers = await Promise.all(\n      response.data.results.map(async movie => {\n        console.log('Fetching trailers for movie ID:', movie.id);\n        const trailerUrl = await getTrailer(movie.id);\n        return { ...movie, trailerUrl };\n      })\n    );\n\n    return { ...response.data, results: moviesWithTrailers };\n  } catch (error) {\n    console.error(\n      'Error fetching movies:',\n      error.response ? error.response.data : error\n    );\n    Notiflix.Notify.failure(\n      'Oops! Something went wrong! Try reloading the page!'\n    );\n    throw error;\n  }\n}\n","\"use strict\";\n\nimport { getTrailer, getMovies } from './getMovies.js';\nimport Notiflix from 'notiflix';\n\n// Test pentru getTrailer\nexport async function testFetchMovieTrailer() {\n  const movieId = 550; // ID-ul filmului \"Fight Club\"\n  const trailerUrl = await getTrailer(movieId);\n  console.log('Trailer URL:', trailerUrl);\n}\n\n// Test pentru getMovies\nexport async function testFetchMovies() {\n  const searchQuery = 'Inception';\n  const page = 1;\n  const movies = await getMovies(searchQuery, page);\n  console.log('Movies:', movies);\n}\n\n// Apelează funcțiile de test\ntestFetchMovieTrailer();\ntestFetchMovies();","export let nightMode = localStorage.getItem(\"nightMode\");\nconst nightModeToggle = document.querySelector(\"#checkbox\");\n\nconst enableNightMode = () => {\n    document.body.classList.add('nightmode'); \n    localStorage.setItem(\"nightMode\", \"enabled\");\n};\n\nconst disableNightMode = () => {\n    document.body.classList.remove('nightmode'); \n    localStorage.setItem(\"nightMode\", \"disabled\");\n};\n\n\nif (nightMode === 'enabled'){\n    nightModeToggle.checked = true;\n    enableNightMode();\n}\n\nnightModeToggle.addEventListener(\"change\", ()=>{\n    nightMode = localStorage.getItem(\"nightMode\");\n    if (nightModeToggle.checked){\n        enableNightMode();\n    }else{\n        disableNightMode();\n    }\n});","export const addToStorage = (key, value) =>{\n    try{\n        localStorage.setItem(key,JSON.stringify(value));\n    }\n    catch(error){\n        console.error(error);\n    }\n};\n\n\nexport const getFromStorage = key =>{\n    try{\n        const item = localStorage.getItem(key);\n        if(!item) return null;\n\n        if (item.startsWith('{') || item.startsWith('[')){\n            return JSON.parse(item);\n        }else {\n            return item;\n        }\n    }catch(error){\n        console.error('Eroare la parsarea datelor din localStorage:',error);\n        return null;\n    }\n};\n\nexport const removeFromStorage = key =>{\n    try{\n        localStorage.removeItem(key);\n        console.log(`'Elementul cu cheia \"${key}\" a fost sters din localStorage.'`);\n    }catch(error){\n        console.error(error);\n    }\n};","import { getFromStorage } from './getLocalStorage';\n\nexport function addToQueue(filmData) {\n  if (!filmData || !filmData.id) {\n    console.error('Datele filmului sunt invalide');\n    return;\n  }\n  const filmObject = {\n    html: filmData.cardHtml,\n    data: filmData,\n    isInQueue: true,\n  };\n  localStorage.setItem(filmData.id.toString(), JSON.stringify(filmObject));\n}\n\nexport function addToWatched(filmData) {\n  if (!filmData || !filmData.id) {\n    console.error('Datele filmului sunt invalide');\n    return;\n  }\n  const filmObject = {\n    html: filmData.cardHtml,\n    data: filmData,\n    isWatched: true,\n  };\n  localStorage.setItem(filmData.id.toString(), JSON.stringify(filmObject));\n}\n\nexport function updateFilmInStorage(filmId, isInQueue, isWatched) {\n  const filmObject = getFromStorage(filmId);\n  if (!filmObject) {\n    console.error('Filmul nu a fost găsit în storage');\n    return;\n  }\n  filmObject.isInQueue = isInQueue;\n  filmObject.isWatched = isWatched;\n  localStorage.setItem(filmId.toString(), JSON.stringify(filmObject));\n}\n","import axios from 'axios';\nimport { API_KEY, BASE_URL } from './getMovies.js';\n\nexport let genres = [];\n\nexport async function fetchGenres() {\n  const url = `${BASE_URL}/genre/movie/list?api_key=${API_KEY}&language=en-US`;\n  try {\n    const response = await axios.get(url);\n    genres = response.data.genres;\n  } catch (error) {\n    console.error('Eroare la încărcarea genurilor: ', error);\n  }\n}\n\nwindow.addEventListener('load', async () => {\n  await fetchGenres();\n});","import { genres } from './fetchGenres';\nimport {\n  addToStorage,\n  getFromStorage,\n  removeFromStorage,\n} from './getLocalStorage';\nimport {\n  addToQueue,\n  addToWatched,\n  updateFilmInStorage,\n} from './queueWatchedManager';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const openFilmModal = (filmData, cardHtml) => {\n  if (!filmData || typeof filmData !== 'object' || !filmData.genre_ids) {\n    console.error(\n      'Datele filmului nu sunt complete sau sunt într-un format incorect.'\n    );\n    return;\n  }\n\n  // nume genurilor\n  const genreNames =\n    Array.isArray(filmData.genre_ids) && filmData.genre_ids.length > 0\n      ? filmData.genre_ids\n          .map(id => genres.find(genre => genre.id === id)?.name || 'Unknown')\n          .filter(name => name !== 'Unknown')\n          .join(', ')\n      : 'Unknown';\n\n  let originalTitle = filmData.title || 'Unknown Title';\n\n  if (filmData.media_type) {\n    originalTitle =\n      filmData.media_type === 'movie'\n        ? filmData.original_title || filmData.title\n        : filmData.original_name || filmData.name;\n  }\n\n  //  titlul film și ID-ul\n  const filmTitle = filmData.title || filmData.name;\n  const filmId = filmData.id;\n\n  // verifică dacă filmul este deja în localStorage\n  const isFilmInQueue = Boolean(getFromStorage(filmData.id));\n\n  // faceHTML-ul pentru fereastra modală\n  const modalHtml = `\n    <div class=\"film-modal\">\n        <div class=\"film-modal-content\">\n         <span class=\"close-modal\">&times;</span>\n         <h2 class=\"film-modal-title\">${filmTitle}</h2>\n        ${\n          filmData.trailerUrl\n            ? `<div class=\"film-modal-trailer\">\n               <iframe src=\"${filmData.trailerUrl}\" frameborder=\"0\" allowfullscreen></iframe>\n             </div>`\n            : `<div class=\"film-modal-poster\">\n               <img src=\"https://image.tmdb.org/t/p/w500${filmData.poster_path}\" alt=\"${filmTitle}\">\n             </div>`\n        }\n        <h3>Original title: ${originalTitle}</h3>\n        <p class=\"film-modal-score\"><span>Score: ${\n          typeof filmData.vote_average === 'number'\n            ? filmData.vote_average.toFixed(2)\n            : 'N/A'\n        }</span></p>\n        <p class=\"modal-genre-paragraph\"><b>Genre:</b> ${genreNames}</p>\n        <h4 class=\"film-modal-about\">ABOUT</h4>\n        <p>${filmData.overview}</p>\n        <div class=\"film-modal-actions\">\n          <button id=\"addToWatchedBtn\">ADD TO WATCHED</button>\n          <button id=\"addToQueueBtn\">${\n            isFilmInQueue ? 'REMOVE FROM QUEUE' : 'ADD TO QUEUE'\n          }</button>\n        </div>\n      </div>\n    </div>`;\n\n  // il trimite in DOM\n  document.body.insertAdjacentHTML('beforeend', modalHtml);\n  const modal = document.querySelector('.film-modal');\n\n  const addToQueueBtn = document.querySelector('#addToQueueBtn');\n  const addToWatchedBtn = document.querySelector('#addToWatchedBtn');\n\n  const setButtonStates = () => {\n    const filmObject = getFromStorage(filmData.id);\n    if (filmObject) {\n      addToQueueBtn.textContent = filmObject.isInQueue\n        ? 'REMOVE FROM QUEUE'\n        : 'ADD TO QUEUE';\n      addToWatchedBtn.textContent = filmObject.isWatched\n        ? 'REMOVE FROM WATCHED'\n        : 'ADD TO WATCHED';\n    }\n  };\n  setButtonStates();\n\n  addToQueueBtn.addEventListener('click', () => {\n    const filmObject = getFromStorage(filmData.id);\n    if (filmObject) {\n      updateFilmInStorage(\n        filmData.id,\n        !filmObject.isInQueue,\n        filmObject.isWatched\n      );\n      if (filmObject.isInQueue) {\n        removeFilmCardFromDOM(filmData.id);\n      }\n    } else {\n      addToQueue({ id: filmData.id, cardHtml: cardHtml, data: filmData });\n    }\n    setButtonStates();\n  });\n\n  addToWatchedBtn.addEventListener('click', () => {\n    const filmObject = getFromStorage(filmData.id);\n    if (filmObject) {\n      updateFilmInStorage(\n        filmData.id,\n        filmObject.isInQueue,\n        !filmObject.isWatched\n      );\n      if (filmObject.isWatched) {\n        removeFilmCardFromDOM(filmData.id);\n      }\n    } else {\n      addToWatched({ id: filmData.id, cardHtml: cardHtml, data: filmData });\n    }\n    setButtonStates();\n  });\n\n  new SimpleLightbox('.film-modal-content a', {\n    overlay: true,\n    close: true,\n    showCounter: true,\n  });\n\n  function handleModalClick(event) {\n    if (\n      event.target === modal ||\n      event.target.classList.contains('close-modal')\n    ) {\n      modal.remove();\n      document.removeEventListener('click', handleModalClick);\n      document.removeEventListener('keydown', handleEscapeKey);\n    }\n  }\n\n  function handleEscapeKey(event) {\n    if (event.key === 'Escape') {\n      modal.remove();\n      document.removeEventListener('keydown', handleEscapeKey);\n      document.removeEventListener('click', handleModalClick);\n    }\n  }\n\n  modal.addEventListener('click', handleModalClick);\n  document.addEventListener('keydown', handleEscapeKey);\n};\n\nfunction removeFilmCardFromDOM(filmId) {\n  console.log(`Încercăm să eliminăm cardul cu ID-ul: ${filmId}`);\n  const filmCard = document.querySelector(\n    `.movie-wrapper__card[data-filmid=\"${filmId}\"]`\n  );\n  if (filmCard) {\n    filmCard.remove();\n    console.log(`Cardul cu ID-ul: ${filmId} a fost eliminat.`);\n  } else {\n    console.log(`Cardul cu ID-ul: ${filmId} nu a fost găsit.`);\n  }\n}\n","import { fetchGenres } from './fetchGenres.js';\nimport { getMovies } from './getMovies.js';\nimport { openFilmModal } from './openFilmModal.js';\nimport { genres } from './fetchGenres.js';\n\nexport async function createFilmCard(dataPromise) {\n  const movieCard = document.querySelector('.movie-wrapper');\n  const data = await dataPromise; // Așteaptă rezolvarea promisiunii cu datele\n\n  movieCard.textContent = '';\n\n  if (!data || !data.results) {\n    // console.error(\n    //   'Datele nu sunt disponibile sau nu au proprietatea \"results\".'\n    // );\n    return;\n  }\n\n  data.results.forEach(response => {\n    // Crează un element nou pentru fiecare film/serial\n    const movieElement = document.createElement('div');\n    movieElement.classList.add('movie-wrapper__card');\n\n    // Determină titlul: folosește 'name' pentru seriale și 'original_title' pentru filme\n    let title = response.title || response.name || 'Unknown Title';\n\n    if (response.media_type === 'tv') {\n      title = response.name || response.original_name || 'Unknown Title';\n    } else if (response.media_type === 'movie') {\n      title = response.title || response.original_title || 'Unknown Title';\n    }\n\n    // Mapează ID-urile genurilor la numele lor, folosind lista de genuri încărcată\n    const genreNames = response.genre_ids\n      .map(id => {\n        const genre = genres.find(genre => genre.id === id);\n        return genre ? genre.name : null;\n      })\n      .filter(name => name !== null)\n      .join(', ');\n    //  console.log(genres);\n    if (genreNames.includes('Unknown')) {\n      console.log('ID-uri genuri necunoscute:', response.genre_ids);\n      console.log('Lista de genuri disponibile:', genres);\n    }\n\n    // Determină anul de lansare\n    let releaseYear;\n\n    if (response.media_type === 'movie') {\n      releaseYear = response.release_date\n        ? response.release_date.split('-')[0]\n        : 'Unknown Year';\n    } else if (response.media_type === 'tv') {\n      releaseYear = response.first_air_date\n        ? response.first_air_date.split('-')[0]\n        : 'Unknown Year';\n    } else {\n      releaseYear = 'Unknown Year';\n    }\n\n    // Formatează rating-ul pentru a afișa doar două zecimale\n    const rating =\n      typeof response.vote_average === 'number'\n        ? response.vote_average.toFixed(2)\n        : 'N/A';\n\n    const posterPath = response.poster_path\n      ? `https://image.tmdb.org/t/p/w500${response.poster_path}`\n      : 'path/to/default/image.jpg';\n\n    // Adaugă un atribut data-filmId la fiecare card\n    movieElement.setAttribute('data-filmId', response.id.toString());\n\n    // Construiește HTML-ul pentru cardul filmului/serialului\n    movieElement.innerHTML = `\n      <div class=\"movie-wrapper__card-img\">\n        <img src=\"${posterPath}\" alt=\"${title}\">\n      <span class=\"movie-wrapper__info-rating\">${rating}</span>\n        </div>\n      <div class=\"movie-wrapper__footer\">\n        <div class=\"movie-wrapper__title\">${title}</div>\n        <div class=\"movie-wrapper__info\">\n          <p class=\"movie-wrapper__info-genres\">${genreNames}</p>\n          <span class=\"movie-wrapper__info-year\"> | ${releaseYear}</span>\n          \n        </div>\n      </div>`;\n\n    // Adaugă elementul creat în containerul principal\n    movieCard.append(movieElement);\n\n    movieElement.addEventListener('click', () => {\n      const existingModal = document.querySelector('.film-modal');\n      if (existingModal) {\n        existingModal.remove();\n      }\n      // Exemplu de apelare a openFilmModal\n      openFilmModal(response, movieElement.outerHTML); // Utilizați response, care reprezinta datele filmului\n    });\n  });\n}\n","// Obține elementele necesare\nconst modal = document.getElementById('myFooterModal');\nconst btn = document.getElementById('openFooterModal');\nconst closeBtn = document.querySelector('.close-button-member');\n\n// Funcție pentru a deschide fereastra modală\nexport function openModal() {\n  modal.style.display = 'block';\n  window.addEventListener('keydown', handleEscapeKeyPress);\n}\n\n// Funcție pentru a închide fereastra modală\nexport function closeModal() {\n  modal.style.display = 'none';\n  window.removeEventListener('keydown', handleEscapeKeyPress);\n}\n\n// Funcție pentru a gestiona apăsarea tastei Escape\nexport function handleEscapeKeyPress(event) {\n  if (event.key === 'Escape') {\n    closeModal();\n  }\n}\n\nbtn.addEventListener('click', openModal);\ncloseBtn.addEventListener('click', closeModal);\n\n// Închide fereastra modală dacă utilizatorul dă click în afara acesteia\nwindow.addEventListener('click', function (event) {\n  if (event.target === modal) {\n    closeModal();\n  }\n});\n\n// Exportă elementele pentru a fi utilizate în main.js\nexport { modal, btn, closeBtn };\n","//Get the button\nlet mybutton = document.getElementById('scrollToTopBtn');\n\nwindow.onscroll = function () {\n  scrollFunction();\n};\n\nexport function scrollFunction() {\n  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {\n    mybutton.style.display = 'block';\n  } else {\n    mybutton.style.display = 'none';\n  }\n}\n\n\nmybutton.addEventListener('click', backToTop);\n\nexport function backToTop() {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n}\n","import { getFromStorage } from './getLocalStorage';\nimport { openFilmModal } from './openFilmModal';\n\nlet isEventAttached = false;\n\nfunction CardClick(event) {\n  const clickedCard = event.target.closest('.movie-wrapper__card');\n  if (clickedCard) {\n    const filmId = clickedCard.getAttribute('data-filmid');\n    const filmObject = getFromStorage(filmId);\n    if (filmObject && filmObject.data) {\n      openFilmModal(filmObject.data.data, filmObject.html);\n    }\n  }\n}\n\nfunction LibraryOrQueueclick(event) {\n  event.preventDefault();\n\n  const watched = document.querySelector('.watched');\n  const movie = document.querySelector('.movie');\n  const paginationContainer = document.getElementById('pagination-container');\n  const headerSearchForm = document.querySelector('.search-form');\n  const watchedQueueContainers = document.querySelectorAll(\n    '.watched-queue-container'\n  );\n  const libraryContainer = document.querySelector('.library-container');\n  const siteNavButtons = document.querySelectorAll('.site-nav-button');\n  const myLibraryBtn = document.querySelector('.site-nav-item.my-library-btn');\n\n  if (watched) watched.innerHTML = '';\n  if (movie) movie.innerHTML = '';\n  if (paginationContainer) paginationContainer.style.display = 'none';\n  if (headerSearchForm) headerSearchForm.style.display = 'none';\n  if (myLibraryBtn) myLibraryBtn.style.display = 'none';\n  watchedQueueContainers.forEach(\n    container => (container.style.display = 'flex')\n  );\n  siteNavButtons.forEach(button => (button.style.display = 'flex'));\n  libraryContainer.style.display = 'flex';\n\n  const queueDiv = document.querySelector('.queue');\n  if (queueDiv) {\n    queueDiv.innerHTML = '';\n    queueDiv.style.display = 'grid';\n    movie.style.display = 'none';\n    watched.style.display = 'none';\n    for (let i = 0; i < localStorage.length; i++) {\n      const key = localStorage.key(i);\n      const filmObject = getFromStorage(key);\n\n      if (filmObject && filmObject.isInQueue) {\n        queueDiv.innerHTML += filmObject.html;\n      }\n    }\n\n    if (!isEventAttached) {\n      document\n        .querySelector('.library-container')\n        .addEventListener('click', CardClick);\n      isEventAttached = true;\n    }\n  }\n\n  setMinHeightForContainer(queueDiv);\n}\n\nfunction WatchedClick(event) {\n  event.preventDefault();\n\n  const watched = document.querySelector('.watched');\n  const movie = document.querySelector('.movie');\n  const queue = document.querySelector('.queue');\n\n  if (movie) movie.innerHTML = '';\n  if (queue) queue.innerHTML = '';\n\n  if (watched) {\n    movie.style.display = 'none';\n    watched.innerHTML = '';\n    watched.style.display = 'grid';\n    queue.style.display = 'none';\n\n    for (let i = 0; i < localStorage.length; i++) {\n      const key = localStorage.key(i);\n      const filmObject = getFromStorage(key);\n\n      if (filmObject && filmObject.isWatched) {\n        watched.innerHTML += filmObject.html;\n      }\n    }\n  }\n  if (!isEventAttached) {\n    document\n      .querySelector('.library-container')\n      .addEventListener('click', CardClick);\n    isEventAttached = true;\n  }\n\n  // Setează înălțimea minimă pentru containerul principal\n  setMinHeightForContainer(watched);\n}\n\nexport function setupMyLibraryLink() {\n  const myLibraryLink = document.querySelector('a[data-request=\"library\"]');\n  const queueLink = document.querySelector('a[data-request=\"queue\"]');\n  const watchedLink = document.querySelector('a[data-request=\"watched\"]');\n\n  if (myLibraryLink)\n    myLibraryLink.addEventListener('click', LibraryOrQueueclick);\n  if (queueLink) queueLink.addEventListener('click', LibraryOrQueueclick);\n  if (watchedLink) watchedLink.addEventListener('click', WatchedClick);\n}\n\n// Setează înălțimea minimă pentru containerul principal\nfunction setMinHeightForContainer(container) {\n  let headerHeight = 0;\n  let footerHeight = 0;\n  const header = document.querySelector('header');\n  if (header) headerHeight = header.offsetHeight;\n  const footer = document.querySelector('footer');\n  if (footer) footerHeight = footer.offsetHeight;\n  const windowHeight = window.innerHeight;\n  const minHeight = windowHeight - headerHeight - footerHeight;\n  if (container) container.style.minHeight = `${minHeight}px`;\n}\n","export const options = {\n  totalItems: 500,\n  itemsPerPage: 1,\n  visiblePages: 5,\n  page: 1,\n  centerAlign: true,\n  firstItemClassName: 'tui-first-child',\n  lastItemClassName: 'tui-last-child',\n  usageStatistics: false,\n  template: {\n    page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n    currentPage:\n      '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n    disabledMoveButton:\n      '<span class=\"btn-hidden tui-page-btn tui-is-disabled tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</span>',\n    moreButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n      '<span class=\"tui-ico-ellip\">...</span>' +\n      '</a>',\n    moveButton: ({ type }) => {\n      let template = '';\n\n      if (type === 'first') {\n        template =\n          '<a href=\"#\" class=\"tui-page-btn tui-first custom-class-first\">' +\n          '<span class=\"tui-ico-first\">1</span>' +\n          '</a>';\n      }\n      if (type === 'prev') {\n        template =\n          '<a href=\"#\" class=\"arrow tui-page-btn tui-prev custom-class-prev tui-first-child\">' +\n          '<span class=\"material-icons-outlined\"><<<back</span>' +\n          '</a>';\n      }\n\n      if (type === 'next') {\n        template =\n          '<a href=\"#\" class=\"arrow tui-page-btn tui-next custom-class-next\">' +\n          '<span class=\"material-icons-outlined\">>>>forward</span>' +\n          '</a>';\n      }\n\n      if (type === 'last') {\n        template =\n          '<a href=\"#\" class=\"tui-page-btn tui-last custom-class-last\">' +\n          '<span class=\"tui-ico-last\">20</span>';\n        ('</a>');\n      }\n\n      return template;\n    },\n  },\n};\n","import { getMovies } from './getMovies.js';\nimport { options } from './optionsPagination.js';\nimport { footerPagination } from './footerPagination.js';\nimport { createFilmCard } from './filmCards.js';\n\nimport Notiflix from 'notiflix';\n\nlet searchQuery = '';\n\nexport let currentSearchQuery = '';\nexport const searchForm = document.querySelector('.search-form');\n\nconst searchIcon = document.querySelector('.submit-btn');\nsearchIcon.addEventListener('click', () => {\n  searchForm.dispatchEvent(new Event('submit'));\n});\nsearchForm.addEventListener('submit', async e => {\n  e.preventDefault();\n  const userSearchQuery = e.currentTarget.elements.searchQuery.value.trim();\n  console.log('Search query:', userSearchQuery); // Debugging line\n\n  if (!userSearchQuery) {\n    Notiflix.Notify.failure('Please enter a search term.');\n    return;\n  }\n\n  currentSearchQuery = userSearchQuery;\n\n  try {\n    const moviesData = await getMovies(currentSearchQuery);\n    console.log('Movies data:', moviesData); // Debugging line\n\n    if (!moviesData || !moviesData.results || moviesData.results.length === 0) {\n      Notiflix.Notify.failure(\n        `Sorry, we couldn't find any films matching \"${currentSearchQuery}\".`\n      );\n      return;\n    } else {\n      Notiflix.Notify.success(\n        `We found ${moviesData.total_results} films matching \"${currentSearchQuery}\".`\n      );\n    }\n\n    options.totalItems = moviesData.total_pages;\n    footerPagination(options.totalItems);\n    createFilmCard(moviesData);\n\n    searchForm.elements.searchQuery.value = '';\n  } catch (error) {\n    console.error('Search result is not successful:', error);\n    Notiflix.Notify.failure('An error occurred while fetching the movies.');\n  }\n});\n","import Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\nimport { getMovies } from './getMovies';\n\nimport { createFilmCard } from './filmCards.js';\nimport '../css/footerPagination.css';\nimport { options } from './optionsPagination.js';\nimport { currentSearchQuery } from './searchForm.js';\n\nimport '../css/footerPagination.css';\n\nexport async function footerPagination() {\n  const pagination = new Pagination(\n    document.getElementById('pagination-container'),\n    options\n  );\n\n  pagination.on('afterMove', onPaginationClick);\n\n  async function onPaginationClick(e) {\n    const lastPageNumber = Number(\n      document.querySelector('.tui-ico-last').textContent\n    );\n    const selectedPage = e.page;\n    if ((selectedPage > 1) & (selectedPage <= lastPageNumber)) {\n      hideBtn(selectedPage);\n    }\n\n    const dataResponse = await getMovies(currentSearchQuery, selectedPage);\n    console.log(dataResponse);\n\n    createFilmCard(dataResponse);\n\n    scrollToTop();\n  }\n  function hideBtn(selectedPage) {\n    const firstPageBtnRef = document.querySelector('.custom-class-first');\n    const lastPageBtnRef = document.querySelector('.custom-class-last');\n\n    const lastPageNumber = Number(\n      document.querySelector('.tui-ico-last').textContent\n    );\n\n    if (selectedPage < 4) {\n      firstPageBtnRef.classList.add('btn-hidden');\n      return;\n    }\n    if (lastPageNumber - selectedPage < 3) {\n      lastPageBtnRef.classList.add('btn-hidden');\n      return;\n    }\n\n    lastPageBtnRef.classList.remove('btn-hidden');\n    firstPageBtnRef.classList.remove('btn-hidden');\n  }\n\n  function scrollToTop() {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n  }\n}\n","const footerGetFullYear = () => {\n    const yearSpan = document.getElementById('year');\n    const currentYear = new Date().getFullYear();\n    yearSpan.textContent = currentYear;\n  };\n\n  export { footerGetFullYear };","'use strict';\n\nimport { getMovies } from './js/getMovies.js';\nimport {\n  testFetchMovieTrailer,\n  testFetchMovies,\n} from './js/testing-get-movies.js';\nimport { nightMode } from './js/nightMode.js';\nimport {\n  addToStorage,\n  getFromStorage,\n  removeFromStorage,\n} from './js/getLocalStorage.js';\nimport {\n  addToQueue,\n  addToWatched,\n  updateFilmInStorage,\n} from './js/queueWatchedManager.js';\nimport { createFilmCard } from './js/filmCards.js';\n\nimport {\n  modal,\n  btn,\n  closeBtn,\n  openModal,\n  closeModal,\n  handleEscapeKeyPress,\n} from './js/footerModal.js';\nimport { scrollFunction, backToTop } from './js/scrollTopButton.js';\nimport { setupMyLibraryLink } from './js/library.js';\nimport { openFilmModal } from './js/openFilmModal.js';\nimport { footerPagination } from './js/footerPagination.js';\nimport { currentSearchQuery } from './js/searchForm.js';\nimport { footerGetFullYear } from './js/footerGetFullYear.js';\n\nwindow.addEventListener('load', async () => {\n  try {\n    footerGetFullYear();\n    setupMyLibraryLink();\n    scrollFunction();\n    backToTop();\n    const popularMovies = await getMovies();\n    createFilmCard(popularMovies);\n    footerPagination(popularMovies);\n  } catch (error) {\n    console.log('Eroare la încărcarea filmelor populare:', error);\n  }\n});\n\nimport { searchForm } from './js/searchForm.js';\n"],"names":["API_KEY","BASE_URL","getTrailer","movieId","trailerUrl","youtubeTrailer","axios","trailer","error","getMovies","searchQuery","page","url","response","moviesWithTrailers","movie","Notiflix","testFetchMovieTrailer","testFetchMovies","movies","nightMode","nightModeToggle","enableNightMode","disableNightMode","getFromStorage","key","item","addToQueue","filmData","filmObject","addToWatched","updateFilmInStorage","filmId","isInQueue","isWatched","genres","fetchGenres","openFilmModal","cardHtml","genreNames","id","_a","genre","name","originalTitle","filmTitle","isFilmInQueue","modalHtml","modal","addToQueueBtn","addToWatchedBtn","setButtonStates","removeFilmCardFromDOM","SimpleLightbox","handleModalClick","event","handleEscapeKey","filmCard","createFilmCard","dataPromise","movieCard","data","movieElement","title","releaseYear","rating","posterPath","existingModal","btn","closeBtn","openModal","handleEscapeKeyPress","closeModal","mybutton","scrollFunction","backToTop","isEventAttached","CardClick","clickedCard","LibraryOrQueueclick","watched","paginationContainer","headerSearchForm","watchedQueueContainers","libraryContainer","siteNavButtons","myLibraryBtn","container","button","queueDiv","i","setMinHeightForContainer","WatchedClick","queue","setupMyLibraryLink","myLibraryLink","queueLink","watchedLink","headerHeight","footerHeight","header","footer","minHeight","options","type","template","currentSearchQuery","searchForm","searchIcon","userSearchQuery","moviesData","footerPagination","Pagination","onPaginationClick","e","lastPageNumber","selectedPage","hideBtn","dataResponse","scrollToTop","firstPageBtnRef","lastPageBtnRef","footerGetFullYear","yearSpan","currentYear","popularMovies"],"mappings":"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"}